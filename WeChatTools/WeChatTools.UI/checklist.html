<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <title>微信域名批量检测 - 太阳湾软件</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <link rel="Bookmark nofollow" href="https://res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico">
    <link rel="Shortcut Icon nofollow" href="https://res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico">    
    <link rel="stylesheet nofollow"   href="/checklist/base.css">
    <link type="text/css" rel="stylesheet nofollow" href="/static/styles/base.css" />
    <link rel="stylesheet nofollow" href="/static/layer.css" id="layui_layer_skinlayercss" style=""> 
</head>
<body style="">
    <!-- 头部 -->
    <!-- 页头固定在顶部 -->
    <!-- /头部 -->
    <!-- 主体 -->

    <style>
        .layui-layer-content {
            height: 250px;
            width: 96%;
        }
       
    </style>
    <div class="page page2 clearfix">
        <div class="toper" style="position: absolute;top: 0;width: 100%;background: rgba(0,178,200, .5);">
            <div class="wp">
                <a href="http://www.rrbay.com/" title="太阳湾官网" style="width:20%;float:left"><img class="logo pl" src="static/logo.png" alt="太阳湾软件官网" /></a>
                <nav>
                    <ul>
                        <li>
                            <a href="/index.html" title="太阳湾软件">首页</a>

                        </li>
                        <li>
                            <a href="#" title="微信域名屏蔽检测">微信域名检测系统</a>
                            <ul>
                                <li><a href="/doc.html" title="api接口文档介绍">接口文档</a></li>
                                <li><a href="/price.html" title="微信域名检测收费标准">收费标准</a></li>
                                <li><a href="/faq.html" title="常见问题解答-faq">问题解答</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#" title="微信链接防封系统">微信域名防封系统</a>
                            <ul>
                                <li><a href="/doc2.html" title="微信域名防封,微信域名屏蔽自动切换,手机浏览器跳转微信">系统介绍</a></li>
                                <li><a href="/price2.html" title="微信域名防封,微信域名屏蔽自动切换,手机浏览器跳转微信">收费标准</a></li>
                                <li><a href="/faq2.html" title="常见问题解答-faq">问题解答</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
                <div class="navs pr" style="float:left;width:25%">
                    <a href="http://www.rrbay.com/pay.html" target="_blank" title="太阳湾官方QQ">支付方式</a>
                    <a href="https://w.url.cn/s/AAE74dc" rel="nofollow" target="_blank" title="注册登陆">注册登陆</a>
                </div>
            </div>
        </div>
        <div class="container mt101">
            <div class="test ">
                <div>
                    <span>请输入购买Key:</span>
                    <input id="kw" name="wd" class="yj1" type="text" value="341e0b5df120394ec99e517b67774399" />
                </div>
                <!-- 输入要检测的域名 -->
                <h2>
                    请输入你要检测的域名

                </h2>
                <textarea name="content" id="content" class="write-address" placeholder="可以输入多个域名，一行一个，回车换行"></textarea>
                <div class="test-btn"><button id="btn_check">开始检测</button> </div>
                <!-- 检测进程 -->
                <div class="title">
                    <h2>进程:</h2>
                    <span class="res_tips">正常<a>[0]</a>个，拦截：<a>[0]</a>个，失败：<a>[0]</a>个</span>
                </div>
                <ul class="list"></ul>
                <!-- <h2>最近检测</h2>
                <div class="link">

                </div> -->
            </div>
            <div class="blank" style="background-color:#000;display:none">
                <textarea id="ck_ok"></textarea>
                <textarea id="ck_stop"></textarea>
                <textarea id="ck_err"></textarea>
            </div>
        </div>
        <!--start: 底部友情域名 -->
        <div class="foot clearfix">
            <div class="foot_main" style="font-size:1.3em ">
                <div class="main_top">
                    <div class="main_top_left">
                        <img class="logo pl" src="static/logo_f.png" title="太阳湾软件" alt="太阳湾软件" />
                        <p>QQ:<a href="http://wpa.qq.com/msgrd?v=3&uin=391502069&site=qq&menu=yes" rel="nofollow" target="_blank" title="太阳湾官方QQ">391502069</a></p>
                        <p>09:00 - 21:00</p>
                    </div>
                    <div class="main_top_mid">
                        <div class="con_left">
                            <div class="main_top_title" style="text-align:left;margin-left:8%">产品中心</div>
                            <div>
                                <ul>
                                    <li><a href="http://www.qqqao.com" target="_blank" title="信息无障碍">信息无障碍</a></li>
                                    <li><a href="/doc.html" target="_blank" title="微信域名检测">微信域名检测</a></li>
                                    <li><a href="http://www.rrbay.com/wxcheck" target="_blank" title="微信域名检测专栏,微信域名防封专栏">检测防封</a></li>
                                    <li><a href="http://www.rrbay.com/wza" target="_blank" title="信息无障碍专栏">无障碍专栏</a></li>
                                    <li><a href="/doc2.html" target="_blank" title="微信域名防封系统">微信域名防封</a></li>
                                    <li><a href="http://www.rrbay.com/chanpin" target="_blank" title="产品中心">产品中心</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="con_mid">
                            <div class="main_top_title">产品服务</div>
                            <div>
                                <ul>
                                    <li><a href="http://www.rrbay.com/spec" target="_blank" title="技术专栏">技术专栏</a></li>
                                    <li><a href="http://www.rrbay.xyz/wap2wx.html" target="_blank" title="太阳湾小说,分销系统">小说分销</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="con_right">
                            <div class="main_top_title">关于</div>
                            <div>
                                <ul>
                                    <li><a href="http://wpa.qq.com/msgrd?v=3&uin=391502069&site=qq&menu=yes" rel="nofollow" target="_blank" title="在线咨询">在线咨询</a></li>
                                    <li><a href="http://www.rrbay.com/" target="_blank" title="太阳湾软件官方网站">官方网站</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="main_top_right">
                        <img src="https://img.alicdn.com/imgextra/i1/335272969/O1CN011XnqN63ECdwsHk1_!!335272969.png" rel="nofollow" title="太阳湾软件公众号二维码" alt="太阳湾软件公众号二维码">
                        <p style="position:relative;top:10px;">扫码关注公众号</p>
                    </div>
                </div>
                <div class="main_bottom">
                    Copyright &copy;
                    <script type="text/javascript">var date = new Date; document.write(unescape(date.getFullYear()));</script> <a href="http://www.rrbay.com/" target="_blank" title="太阳湾官方网站">太阳湾软件</a>
                </div>
            </div>

        </div>
        <!--end: 底部友情域名 -->
    </div>
    <script type="text/javascript" rel="nofollow" src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" rel="nofollow" src="https://cdnjs.cloudflare.com/ajax/libs/layer/2.3/layer.js"></script>

    <script type="text/javascript">
        yuliang = "";
        ck_status = 1;
        /**
         * 回车检测
         */

        $("#domain").keyup(function (e) {
            if (e.keyCode === 13) {
                if (ck_status != 0) {
                    $("#btn_check").click();
                }
                return false;
            }
        });

        /**
         * 提交
         */
        $('#btn_check').click(function () {
            ck_status = 0;//检测状态
            var content = $('#content').val();
            var content = content.replace(/ /g, ""); //去除文章中间空格
            var key = $("#kw").val();   //key
            var domain_arr = new Array();
            var domain_arr = content.split("\n");
            var domain_len = domain_arr.length;
            if (domain_arr != "") {
            }

            if (domain_arr != "") {
                //判断元素不等于空

                $('#btn_check').attr("disabled", "disabled");
                $('#btn_check').html("检测中...");
                $('#ck_ok').empty();
                $('#ck_stop').empty();
                $('#ck_err').empty();
                $('.list').empty();
                succ_count = 0;
                err_count = 0;
                ck_stop = 0;
                A = 0;
                B = 0;
                var i = 0;
                $('.list').empty(); // 清空列队
                $('#btn_check').html('检测中...');

                (function beach_add_domain() {
                    setTimeout(function () {
                        if (i < domain_len) {
                            var domain = domain_arr[i]
                            domain = domain.toLowerCase();

                            if (IsURL(domain) == true) {
                                A++;
                                $.ajax({

                                    url: "http://wx.rrbay.com/pro/wxUrlCheck3.ashx",
                                    type: "GET",
                                    dataType: 'jsonp',
                                    jsonp: 'callback',
                                    data: {
                                        key: key,
                                        url: domain,
                                    },
                                    success: function (data) {

                                        B++;
                                        if (data.Code === "102") {

                                            succ_count++;
                                            $('.list').prepend("<li><a>" + gettime() + " >> " + domain + " -> 正常域名</a></li>");
                                            $('#ck_ok').append(domain);
                                            $('#ck_ok').append("\r\n");
                                        } else if (data.Code === "101") {
                                            $('#ck_stop').append(domain);
                                            $('#ck_stop').append("\r\n");
                                            ck_stop++;
                                            $('.list').prepend("<li class=\"error\"><a >" + gettime() + " >>" + domain + " ->已拦截</a></li>");
                                        } else if (data.Code === "001") {
                                            $('#ck_err').append(domain);
                                            $('#ck_err').append("\r\n");
                                            domain_len = 0;
                                            add_complete_tips(succ_count, err_count, ck_stop); //处理完成提示
                                            err_count++;
                                            $('.list').prepend("<li class=\"error\"><a >" + gettime() + " >> " + domain + "非法访问,访问被拒绝,联系管理员qq:391502069</a></li>");
                                        } else if (data.Code === "002") {
                                            $('#ck_err').append(domain);
                                            $('#ck_err').append("\r\n");
                                            add_complete_tips(succ_count, err_count, ck_stop); //处理完成提示
                                            err_count++;
                                            $('.list').prepend("<li class=\"error\"><a >" + gettime() + " >> " + domain + " 歇一歇,访问太快了,联系管理员qq:391502069</a></li>");
                                        } else {
                                            $('#ck_err').append(domain);
                                            $('#ck_err').append("\r\n");
                                            add_complete_tips(succ_count, err_count, ck_stop); //处理完成提示
                                            err_count++;
                                            $('.list').prepend("<li class=\"error\"><a >" + gettime() + " >> " + domain + "  " + data.Msg + "</a></li>");
                                        }
                                        adding_tips(domain_len, succ_count, err_count, ck_stop); //处理过程中提示
                                        if (A == B && domain_len == err_count + succ_count + ck_stop) {
                                            add_complete_tips(succ_count, err_count, ck_stop); //处理完成提示
                                        }
                                    }
                                });
                            } else if (domain.length != 0) {
                                $('#ck_err').append(domain);
                                $('#ck_err').append("\r\n");
                                $('.list').prepend("<li class=\"error\"><a >" + gettime() + " >>  " + domain + "   格式错误</a></li>");
                                err_count++;
                                adding_tips(domain_len, succ_count, err_count, ck_stop); //处理过程中提示
                                if (err_count == domain_len || domain_len == err_count + succ_count + ck_stop) {
                                    add_complete_tips(succ_count, err_count, ck_stop); //处理完成提示
                                }
                            } else {
                                //过滤空内容
                                err_count++;
                                $('.list').prepend("<li class=\"error\"><a >" + gettime() + " >>过滤空内容</a></li>");
                                if (err_count == domain_len || domain_len == err_count + succ_count + ck_stop) {
                                    add_complete_tips(succ_count, err_count, ck_stop); //处理完成提示
                                }
                            }
                            i++;
                            beach_add_domain();
                        }
                    }, 2000);
                })();
            }
        })
        //处理完成提示
        function add_complete_tips(succ_count, err_count, ck_stop) {
            $('.res_tips').html('检测完成点击导出：正常：正常<a href="javascript:;" id="res_ok" onclick="res_ok()">[' + succ_count + ']</a>个,拦截：<a href="javascript:;" id="res_stop" onclick="res_stop()">[' + ck_stop + ']</a>个，失败：<a href="javascript:;" id="res_err" onclick="res_err()">[' + err_count + ']</a>个');
            $('#btn_check').html('开始检测');
            $("#btn_check").removeAttr("disabled");
            ck_status = 1;//检测状态

        }
        //处理列队提示
        function adding_tips(domain_len, succ_count, err_count, ck_stop) {
            $('.res_tips').html('共' + domain_len + '条数据！列队处理中……正常<a href="javascript:;" id="res_ok" onclick="res_ok()">[' + succ_count + ']</a>个，拦截：<a href="javascript:;" id="res_stop" onclick="res_stop()">[' + ck_stop + ']</a>个，失败<a href="javascript:;" id="res_err" onclick="res_err()">[' + err_count + ']</a>个');
        }
        //时间获取
        function gettime() {
            var date = new Date();
            var seperator1 = "-";
            var seperator2 = ":";
            var month = date.getMonth() + 1;
            var strDate = date.getDate();
            if (month >= 1 && month <= 9) {
                month = "0" + month;
            }
            if (strDate >= 0 && strDate <= 9) {
                strDate = "0" + strDate;
            }
            var currentdate = date.getHours() + seperator2 + date.getMinutes()
                    + seperator2 + date.getSeconds();
            return currentdate;
        }
        function res_ok() {
            var ok = $('#ck_ok').val();
            var stop = $('#ck_stop').val();
            var err = $('#ck_err').val();
            layer.tab({
                area: ['380px', '300px'],
                tab: [{
                    title: '正常[' + succ_count + ']',
                    content: '<textarea style="margin: 5px 10px; width: 94%; height: 239px;">' + ok + '</textarea>'
                }, {
                    title: '拦截[' + ck_stop + ']',
                    content: '<textarea style="margin: 5px 10px; width: 94%; height: 239px;">' + stop + '</textarea>'
                }, {
                    title: '检测失败[' + err_count + ']',
                    content: '<textarea style="margin: 5px 10px; width: 94%; height: 239px;">' + err + '</textarea>'
                }]
            });
        }
        function res_stop() {
            var ok = $('#ck_ok').val();
            var stop = $('#ck_stop').val();
            var err = $('#ck_err').val();
            layer.tab({
                area: ['380px', '300px'],
                tab: [{
                    title: '拦截[' + ck_stop + ']',
                    content: '<textarea style="margin: 5px 10px; width: 94%; height: 239px;">' + stop + '</textarea>'
                }, {
                    title: '正常[' + succ_count + ']',
                    content: '<textarea style="margin: 5px 10px; width: 94%; height: 239px;">' + ok + '</textarea>'
                }, {
                    title: '检测失败[' + err_count + ']',
                    content: '<textarea style="margin: 5px 10px; width: 94%; height: 239px;">' + err + '</textarea>'
                }]
            });

        }
        function res_err() {
            var ok = $('#ck_ok').val();
            var stop = $('#ck_stop').val();
            var err = $('#ck_err').val();
            layer.tab({
                area: ['380px', '300px'],
                tab: [{
                    title: '检测失败[' + err_count + ']',
                    content: '<textarea style="margin: 5px 10px; width: 94%; height: 239px;">' + err + '</textarea>'
                }, {
                    title: '拦截[' + ck_stop + ']',
                    content: '<textarea style="margin: 5px 10px; width: 94%; height: 239px;">' + stop + '</textarea>'
                }, {
                    title: '正常[' + succ_count + ']',
                    content: '<textarea style="margin: 5px 10px; width: 94%; height: 239px;">' + ok + '</textarea>'
                }]
            });
        }

        /**
         * [IsURL 验证网址]
         */
        function IsURL(str_url) {
            var strRegex = "^((https|http|ftp|rtsp|mms)?://)"
            + "?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?" //ftp的user@
            + "(([0-9]{1,3}\.){3}[0-9]{1,3}" // IP形式的URL- 199.194.52.184
            + "|" // 允许IP和DOMAIN（域名）
            + "([0-9a-z_!~*'()-]+\.)*" // 域名- www.
            + "([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\." // 二级域名
            + "[a-z]{2,6})" // first level domain- .com or .museum
            + "(:[0-9]{1,4})?" // 端口- :80
            + "((/?)|" // a slash isn't required if there is no file name
            + "(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$";
            var re = new RegExp(strRegex);
            //re.test()
            if (re.test(str_url)) {
                return (true);
            } else {
                return (false);
            }
        }
    </script>
    <!-- /主体 -->
    <!-- 底部 -->
    <!-- 页脚跟随页面滚动 -->
   
    <!--<script type="text/javascript">
        $(function () {
            var cate = "weixinjiance";
            $('#j_weixinjiance').addClass('active');
            // $('title').html($('#j_weixinjiance').find('a').html());
        })

    </script>-->
    <!-- /底部 -->
</body>
</html>